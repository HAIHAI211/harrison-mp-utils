{"code":"!function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){n(1),function(){var t=new Error(\"Cannot find module 'bundle.js'\");throw t.code=\"MODULE_NOT_FOUND\",t}()},function(t,e,n){\"use strict\";n.r(e);var a={};n.r(a),n.d(a,\"LOADING_STATE_ENUM\",function(){return u});var r={};n.r(r),n.d(r,\"sleep\",function(){return s});var i={};n.r(i),n.d(i,\"addZero\",function(){return d});var o={};n.r(o),n.d(o,\"getSimpleDate\",function(){return f}),n.d(o,\"getDate\",function(){return l}),n.d(o,\"getStepDate\",function(){return g}),n.d(o,\"isDatesEqual\",function(){return h}),n.d(o,\"isStepDay\",function(){return m}),n.d(o,\"isYesterday\",function(){return p}),n.d(o,\"isToday\",function(){return y}),n.d(o,\"timeGapFromNow\",function(){return v});const u={NO_SHOW:0,IS_LOADING:1,ALL_OVER:2,ERROR:3};async function s(t=1e3){return new Promise((e,n)=>{setTimeout(e,t)})}var c={PullToRefreshMixin:{components:{},data:()=>({loadingState:u.NO_SHOW,pageIndex:0,apis:[],initPageNum:0,listKeyName:\"data\",pageCountKeyName:\"pageCount\"}),computed:{pages(){let t=[];for(let e=0;e<this.apis.length;e++)t.push({pageNum:this.initPageNum,pageSize:10,pageCount:10,list:[]});return t},activePage(){return this.pages[this.pageIndex]},activeApi(){return this.apis[this.pageIndex]}},methods:{async fetchList(t=!0){if(t)this.activePage.pageNum=this.initPageNum,this.activePage.pageCount=0;else if(this.activePage.pageNum+=1,this.activePage.pageNum>this.activePage.pageCount)return this.loadingState=u.ALL_OVER,void(this.activePage.pageNum-=1);let e={pageNum:this.activePage.pageNum,pageSize:this.activePage.pageSize},n=this.params?Object.assign(this.params,e):e;this.loadingState=u.IS_LOADING;try{const e=await this.activeApi(n);this.activePage.list=t?e[this.listKeyName]:[...this.activePage.list,...e[this.listKeyName]],this.activePage.pageCount=e[this.pageCountKeyName],this.loadingState=this.activePage.pageNum<this.activePage.pageCount?u.NO_SHOW:u.ALL_OVER}catch(t){throw t}}},async onPullDownRefresh(){await this.fetchList(),wx.stopPullDownRefresh()},async onReachBottom(){await this.fetchList(!1)},async mounted(){await s(50),wx.startPullDownRefresh()}}};function d(t){const e=t.toString();return e[1]?e:`0${e}`}function f(t){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()}}function l(t,e={dateFormat:\"-\",timeFormat:\":\",showSecond:!1,showDetail:!0}){const n=f(t),a=d(n.month),r=d(n.day),i=d(n.hour),o=d(n.minute),u=d(n.second),s=n.year+e.dateFormat+a+e.dateFormat+r,c=i+e.timeFormat+o+(e.showSecond?e.timeFormat+u:\"\");let l={addZeroMonth:a,addZeroDay:r,addZeroHour:i,addZeroMinute:o,addZeroSecond:u,formatDate:s,formatTime:c,fullFormatDate:s+\" \"+c},g={};if(e.showDetail){g={isToday:y(t),isYesterday:p(t)}}return Object.assign(n,l,g)}function g(t=0){let e=new Date;return e.setDate(e.getDate()+t),e}function h(t,e){let n=f(t),a=f(e);return n.year===a.year&&n.month===a.month&&n.day===a.day}function m(t,e){return h(g(e),t)}function p(t){return m(t,-1)}function y(t){return m(t,0)}function v(t,e=!0){let n=(new Date).getTime()-t.getTime(),a=n%864e5,r=a%36e5,i=Math.floor(n/864e5),o=Math.floor(a/36e5),u=Math.floor(r/6e4);return 0===i?e?0===o?`${u}分钟前`:`${o}小时前`:\"今天\":1===i?\"昨天\":2===i?\"前天\":i<30?`${i}天前`:i<60?\"一个月前\":l(t).fullFormatDate}e.default={harrisonDate:o,harrisonEnum:a,rest:r,str:i,mixin:c}}]);","extractedComments":[]}